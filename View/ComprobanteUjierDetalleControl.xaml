<UserControl x:Class="Infor_Soft_WPF.View.ComprobanteUjierDetalleControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White"
             Padding="20">

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Título -->
            <RowDefinition Height="*"/>
            <!-- Contenido con scroll -->
            <RowDefinition Height="Auto"/>
            <!-- Botones -->
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,10">
            <Image Source="pack://application:,,,/Imagenes/logo_pj.png" Height="60" Stretch="Uniform" Margin="0,0,520,0"/>
            <Image Source="pack://application:,,,/Imagenes/Compromiso.jpg" Height="60" Stretch="Uniform"/>
        </StackPanel>


        <!-- Título -->
        <TextBlock Grid.Row="0"
                   Text="Factura Ujier"
                   FontSize="28"
                   FontWeight="Bold"
                   Foreground="#FF582E04"
                   Margin="276,-10,4,20"
                   />
        <TextBlock x:Name="txtNombreUsuarioSidebar" Text="" FontSize="16" FontWeight="Bold" Foreground="#FF582E04" Margin="320,30,0,20" HorizontalAlignment="Left" Grid.RowSpan="2" Width="292"/>
        <TextBlock x:Name="txtJuzgadoSidebar" Text="" FontSize="14" Margin="-90,50,0,20" Foreground="#FF582E04" HorizontalAlignment="Center"/>

        <!-- Contenido con Scroll -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Background="White" MinWidth="300" MaxWidth="800">

                <!-- Datos del Cliente -->
                <GroupBox Header="Datos del Cliente"
                          BorderBrush="#FF582E04"
                          Foreground="#FF582E04"
                          Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <TextBlock Text="{Binding Cliente}" FontSize="16" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding Documento}" FontSize="14"/>
                    </StackPanel>
                </GroupBox>

                <!-- Datos del Expediente -->
                <GroupBox Header="Datos del Expediente"
                          BorderBrush="#FF582E04"
                          Foreground="#FF582E04"
                          Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <TextBlock Text="Número de Expediente:" FontWeight="Bold" Margin="0,0,0,3"/>
                        <TextBlock Text="{Binding NumeroExpediente}" FontSize="14" Margin="0,0,0,8"/>
                        <TextBlock Text="Año:" FontWeight="Bold" Margin="0,0,0,3"/>
                        <TextBlock Text="{Binding AnioExpediente}" FontSize="14"/>
                    </StackPanel>
                </GroupBox>

                <!-- Detalle de Oficios -->
                <GroupBox Header="Detalle de Oficios Comisivos"
                          BorderBrush="#FF582E04"
                          Foreground="#FF582E04"
                          Margin="0,0,0,15">
                    <DataGrid ItemsSource="{Binding Oficios}"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              IsReadOnly="True"
                              MinHeight="200"
                              Margin="10"
                              GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column"
                              BorderBrush="#FF582E04"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Stretch">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Descripción" Binding="{Binding Descripcion}" Width="*"/>
                            <DataGridTextColumn Header="Destino" Binding="{Binding Destino}" Width="*"/>
                            <DataGridTextColumn Header="Distancia (Km)" Binding="{Binding DistanciaKm}" Width="*"/>
                            <DataGridTextColumn Header="Monto" Binding="{Binding Monto}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </GroupBox>

                <!-- Totales -->
                <GroupBox Header="Totales"
                          BorderBrush="#FF582E04"
                          Foreground="#FF582E04"
                          Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <TextBlock Text="Total Factura:" FontWeight="Bold" FontSize="16" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding Total}" FontSize="16"/>
                    </StackPanel>
                </GroupBox>

                <!-- Datos de Liquidación -->
                <GroupBox Header="Datos de Liquidación"
                          BorderBrush="#FF582E04"
                          Foreground="#FF582E04"
                          Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <TextBlock Text="{Binding FechaLiquidacion, StringFormat='Fecha de Liquidación: {0:dd/MM/yyyy}'}" FontSize="14" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding NumeroLiquidacion, StringFormat='N° Liquidación: {0}'}" FontSize="14"/>
                    </StackPanel>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>

        <!-- Botones de Acción -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0" >
            <Button Content="Imprimir"
                    Width="120"
                    Height="40"
                    Margin="5,0,0,0"
                    Background="#FF582E04"
                    Foreground="White"
                    FontWeight="Bold"
                    BorderThickness="0"
                    Padding="10,5"
                    Cursor="Hand"
                    Click="Imprimir_Click"/>

            <Button Content="Generar PDF"
                    Width="120"
                    Height="40"
                    Margin="5,0,0,0"
                    Background="#FF582E04"
                    Foreground="White"
                    FontWeight="Bold"
                    BorderThickness="0"
                    Padding="10,5"
                    Cursor="Hand"
                    Click="GenerarPdf_Click"/>

            <Button Content="Cerrar"
                    Width="120"
                    Height="40"
                    Margin="5,0,0,0"
                    Background="#FF582E04"
                    Foreground="White"
                    FontWeight="Bold"
                    BorderThickness="0"
                    Padding="10,5"
                    Cursor="Hand"
                    Click="Cerrar_Click"/>
        </StackPanel>

    </Grid>
</UserControl>
